<!DOCTYPE html>
<html class='v3' dir='ltr' lang='en' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<meta charset='utf-8'/>
<meta content='width=device-width, initial-scale=1, maximum-scale=1' name='viewport'/>
<meta content='yes' name='apple-mobile-web-app-capable'/> 
<title>zilaNeon PWA</title>
<link rel="manifest" href="manifest.webmanifest"/> 
 <style>
body {
 font-size:14px;
 width:100%;
 margin:0px;
}
#field {
position: relative; 
max-width: 480px;
width: 90%;
margin-top: 40%;
margin-bottom: 100px;
margin:0 auto; 
z-index: 99; 
display: none;
visibility: visible !important;} 
#error {position: relative; top:-5px; left:-5px; }
  

 


</style>
</head> 
<body>
 <div id="headers" style="background-color:#49a6fa; width:100%; height:50px; font-color:#fffff; margin: 0 0 30px 0;">
<img id="logo" src="icon-96.png" style="width:36px; height:36px;float:left; padding: 5px">
 <div id="text" style="color:#ffffff;height:36px;padding: 5px"><b style="padding:10px 0">zilaNeon GitHub</b> <br/> 
  <span>Một sự kiện thêm PWA trên màn hình</span></div>
 </div>
 <div style="clear:both;"></div>
<div id="field">
<fieldset> <legend>zilaNeon PWA </legend>
<button class="add-button" style="display: block; margin: 5px auto; padding: 10px; font-size: 16px;">Thêm PWA Trên Màn Hình</button> 
<div style="margin:10px auto"> zilaNeon PWA là dễ dàng để bạn lướt trang zilaNeon.</p> Một Sự kiện thêm ứng dụng lối tắc trên màn hình</div>
</fieldset> 
<p>
zilaNeon PWA là một ứng dụng lối tắc để người dùng dễ dàng quay lại trang website. 
 </p> <p>
PWA tính năng bộ nhớ có sẵn giúp cho việc lướt web tốt hơn.
 </p> <p>
Khi Thêm PWA sẽ xuất trên màn hình chính của bạn. PWA là một ứng kích thước nhỏ không làm ảnh đến thiết bị của bạn. 
</p>
</div>

 <div id="footers" style="background-color:#49a6fa; width:100%; height:200px; font-color:#fffff; margin: 50px 0 0 0;"> 
  <div id="info-pwa" style="position: relative; top:-20px;left:50px;height:80px;width:300px">

   <svg id="logo-pwa" style="width:48px;height:48px;text-align: center;float:left; background-color:#ffffff;border: 2px solid #49a6fa;"> 
  <image src="logo-pwa.svg" id="icon-pwa" xlink:href="logo-pwa.svg" style="width:36px; height:36px; display:block; padding: 10px 10px; margin: 0;filter: invert(63%) sepia(95%) saturate(2421%) hue-rotate(183deg) brightness(97%) contrast(101%);"> 
  </image>
  </svg> 
 
   <div id="pwa-text" style="margin: 0 20px"><b style="color: #49a6fa">Ứng dụng web tiến bộ</b>
   <p>
    <a title="Ứng dụng web tiến bộ" href="https://zilaneon.blogspot.com/search?q=Progressive+web+app" style="color:#ffffff">Hiểu về PWA với zilaNeon Blog</a>
   </p>
   </div>
   <div style="clear:both;"></div> 
   <div id="pwa-link" style="color:#ffffff">
    <h3>Liên kết liên quan đến PWA (Ứng dụng web tiến bộ) </h3>
 <a title="Ứng dụng web tiến bộ trên web.dev" href="https://web.dev/explore/progressive-web-apps?hl=vi" style="color:#ffffff">web dev</a> || 
    <a title="Ứng dụng web tiến bộ trên mozilla" href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps" style="color:#ffffff">mozilla</a> || 
    <a title="Ứng dụng web tiến bộ trên microsoft" href="https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/" style="color:#ffffff">microsoft</a>
    
   </div>
   </div>
  </div>
 
<div id="eloading" style="background: url(loadng.gif) no-repeat; background-size: 25%; background-position: center; position: fixed; top: 0px; left: 0px; z-index: 99; display: block; width: 100%; height: 100%; visibility: visible !important;"></div>

<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker
    .register('sw.js')
    .then(() => { console.log('Service Worker Registered'); });
}

let deferredPrompt;
const addBtn = document.querySelector('.add-button');
const anload = document.getElementById("eloading"); 
const fielde = document.getElementById("field"); 

window.addEventListener('beforeinstallprompt', (e) => {

  e.preventDefault();
  deferredPrompt = e;
  fielde.style = 'display: block';
  anload.style = 'display: none';

  addBtn.addEventListener('click', () => {

    fielde.style = 'display: none';
    deferredPrompt.prompt();

   deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome === 'accepted') {
        console.log('User accepted the A2HS prompt'); history.back(); 
      } else {
        console.log('User dismissed the A2HS prompt'); history.back(); 
      }
      deferredPrompt = null;  
    }); 

  }); 

}); </script>
</body></html>
